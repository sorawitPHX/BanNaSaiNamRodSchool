<!-- Main Content -->
<main class="container my-5">
  <!-- Section 1: School Vision -->
  <section class="text-center mb-5">
    <h2>สังคมแห่งการเรียนรู้</h2>
    <p>โรงเรียนชั้นนำด้านนวัตกรรมการศึกษา ที่มุ่งเน้นให้นักเรียนมีความคิดสร้างสรรค์และเป็นนวัตกร</p>
  </section>

  <!-- Section 2: News -->
  <section class="mb-5">
    <div class="mb-4">
      <div class="d-flex flex-row justify-content-between">
        <h3 class="">ข่าวประชาสัมพันธ์</h3>
        <div>
          <a href="/news-management" class="btn btn-warning">จัดการข่าวสาร</a>
        </div>
      </div>
    </div>
    <div class="row">
      <!-- Card 1 -->
      <% if(news.length >= 1) { %>
        <% news.forEach((n, index)=>{ %>
        <div class="col-md-4 mb-4">
          <div class="card h-100 p-3 shadow rounded-4 border-0">
            <div class="card-header bg-body border-0 text-center">
              <h5 class="card-title fw-bold"><%= n.title %></h5>
            </div>
            <img src="<%= n.image_path %>" class="card-img-top" alt="ข่าวที่ <%= index+1 %>" style="height: 400px; object-fit: scale-down;">
            <div class="card-body">
              <h5 class="card-text mb-3">
                <%= n.content.snipet.length > 100 ? n.content.snipet.substring(0, 100) + '...' : n.content.snipet %>
              </h5>
              
              
            </div>
            <div class="card-footer bg-body">
              <div class="d-flex flex-row justify-content-between">
                <p class="card-text d-flex align-items-center m-0 p-0">
                  <svg class="me-2" style="width: 24px; height: 24px;" xmlns="http://www.w3.org/2000/svg" id="layer_1" height="512" viewBox="0 0 32 32" width="512"><path d="m20.2929688 16.0913086-5.6665039 5.6665039-2.9194336-2.9194336c-.390625-.390625-1.0234375-.390625-1.4140625 0s-.390625 1.0234375 0 1.4140625l3.6264648 3.6264648c.1953125.1953125.4511719.2929688.7070312.2929688s.5117188-.0976562.7070312-.2929688l6.3735352-6.3735352c.390625-.390625.390625-1.0234375 0-1.4140625s-1.0234374-.3906249-1.4140624.0000001z"></path><path d="m25 3.9599609h-1.5v-.9599609c0-.5522461-.4477539-1-1-1s-1 .4477539-1 1v.9599609h-11v-.9599609c0-.5522461-.4477539-1-1-1s-1 .4477539-1 1v.9599609h-1.5c-2.7568359 0-5 2.2431641-5 5v16.0400391c0 2.7568359 2.2431641 5 5 5h18c2.7568359 0 5-2.2431641 5-5v-16.0400391c0-2.7568359-2.2431641-5-5-5zm-21 5c0-1.6542969 1.3457031-3 3-3h1.5v.9594727c0 .5522461.4477539 1 1 1s1-.4477539 1-1v-.9594727h11v.9594727c0 .5522461.4477539 1 1 1s1-.4477539 1-1v-.9594727h1.5c1.6542969 0 3 1.3457031 3 3v1.0097656h-24zm21 19.0400391h-18c-1.6542969 0-3-1.3457031-3-3v-13.0302734h24v13.0302734c0 1.6542969-1.3457031 3-3 3z"></path></svg>
                  <%= new Date(n.post_date).toLocaleDateString('th-TH', {    day: 'numeric',    month: 'long',    year: 'numeric'})%>
                </p>
                <a href="/news/<%= n._id %>" class="btn btn-primary">อ่านเพิ่มเติม</a>
              </div>
            </div>
          </div>
        </div>
        <% }) %>
      <% } else {%>
        <div class="alert alert-warning text-center">
          <h4>
            ไม่พบข่าวสารใดๆ
          </h4>
        </div>
      <% } %>
      <!-- เพิ่ม Card ข่าวเพิ่มเติมตามที่ต้องการ -->
    </div>
    <div class="text-center mt-4">
      <a href="#" class="btn btn-secondary">ดูข่าวทั้งหมด</a>
    </div>
  </section>

  <section class="mb-5 px-5">
    <h3 class="text-center mb-4">- ฝ่ายบริหารโรงเรียนบ้านนาทรายน้ำรอด -</h3>
    <div id="managementCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <!-- Director Card -->
        <div class="carousel-item active">
          <div class="card border-0 rounded-5 bg-secondary-subtle mb-3 p-3">
            <div class="row g-0">
              <div class="col-md-8 d-flex flex-column justify-content-center">
                <div class="card-body">
                  <div class="mb-3">
                    <h4 class="card-text fw-lighter">
                      "เมล็ดพันธุ์จะงอกงาม ดินต้องดี ปุ๋ยต้องพร้อม น้ำต้องพอ”นักเรียนคือเมล็ดพันธุ์ ผู้ปกครองคือดินที่ก่อเกิด โรงเรียนและคณาจารย์คือปุ๋ยและน้ำ หากทุกฝ่ายช่วยกันทำหน้าที่อย่างเต็มที่เมล็ดพันธุ์ย่อมเจริญงอกงามตามที่หวัง"
                    </h4>
                  </div>
                  <h5 class="card-title fw-bold" style="color: #DD540D;">นางสาวรัดดาวัล พานาดา</h5>
                  <h5 class="card-text fw-light">ผู้อำนวยการโรงเรียน</h5>
                </div>
              </div>
              <div class="col-md-4 d-flex justify-content-center align-items-center">
                <img src="/images/person_01.jpg" alt="Director" class="img-fluid rounded-circle" style="width: 300px; height: 300px; object-fit: cover;">
              </div>
            </div>
          </div>
        </div>
    
        <!-- Deputy Director Card -->
        <!-- <div class="carousel-item">
          <div class="card mb-3">
            <div class="row g-0">
              <div class="col-md-8 d-flex flex-column justify-content-center">
                <div class="card-body">
                  <div class="mb-3">
                    <p class="card-text">"Knowledge is power, but enthusiasm pulls the switch."</p>
                  </div>
                  <h5 class="card-title">Ms. Jane Smith</h5>
                  <p class="card-text"><small class="text-muted">รองผู้อำนวยการ</small></p>
                </div>
              </div>
              <div class="col-md-4 d-flex align-items-center">
                <img src="/images/deputy_director.jpg" alt="Deputy Director" class="img-fluid rounded-circle" style="width: 150px; height: 150px; object-fit: cover;">
              </div>
            </div>
          </div>
        </div> -->
      </div>
    
      <!-- Carousel Controls -->
      <button class="carousel-control-prev" type="button" data-bs-target="#managementCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#managementCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>    
  </section>
</main>